<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>龙四爷互助网 - 专注自动化点赞、评论</title>
    <link rel="stylesheet" href="/static/css/main.css">
</head>
<body>
    <div class="container">
        <div class="hero-section">
            <header>
                <h1>龙四爷互助网</h1>
                <p>专注自动化点赞、评论</p>
            </header>

            <section class="pool-status-panel">
                <h2>共享池状态</h2>
                <p>当前可用账户数</p>
                <div id="account-stats-count" class="pool-count">...</div>
                <p class="pool-subtext">您的每一次贡献，都在点亮整个社区</p>
            </section>
        </div>

        <main>
            <div class="step-one-panel">
                <div class="step-header">
                    <span class="step-number">1</span>
                    <h2>贡献您的力量 (提交Cookie)</h2>
                </div>
                <div class="card">
                    <p class="description">请在此处提交您在抖音官网获取的Cookie信息。您的参与是启动任务的前提。这不会泄露您的密码，仅用于授权本工具执行任务。</p>
                    <div class="form-group">
                        <label for="cookie-data-input">Cookie (JSON格式)</label>
                        <textarea id="cookie-data-input" rows="5" placeholder="请在此粘贴从浏览器开发者工具获取的Cookie JSON数组..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button id="save-cookie-btn">提交并加入共享池</button>
                        <a href="#" id="show-tutorial-link" class="tutorial-link">如何获取我的Cookie？</a>
                    </div>
                </div>
            </div>

            <div class="step-two-panel" id="step-two-container">
                <div class="step-header">
                    <span class="step-number">2</span>
                    <h2>开始自动化任务</h2>
                </div>
                <div class="card" id="task-card">
                    <div id="task-lock-overlay">
                        <div class="lock-content">
                            <span>🔒</span>
                            <p>共享池为空，任务功能已锁定</p>
                            <p>请先完成第一步，贡献您的Cookie以解锁</p>
                        </div>
                    </div>
                    <div class="task-content-wrapper">
                        <div class="form-group">
                            <label for="url-input">抖音主页地址 (每行一个)</label>
                            <textarea id="url-input" placeholder="请每行输入一个抖音主页地址..."></textarea>
                        </div>
                        <button id="run-btn">开始执行</button>
                        <button id="stop-btn" class="stop-button">停止任务</button>
                        
                        <div class="status-panel">
                            <h3>任务实时状态</h3>
                            <div class="status-box">
                                <div class="status-line">
                                    <p><strong>状态:</strong> <span id="status-text" class="idle">待命</span></p>
                                </div>
                                <div id="log-viewer" class="log-viewer">
                                    <pre id="log-text">系统准备就绪...</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <div class="footer-content">
                <div class="changelog">
                    <h4>更新日志</h4>
                    <ul>
                        <li><span class="version-tag">v2.0</span> - 2024-07-28: 集成SQLite数据库，重构存储后端并优化UI。</li>
                    </ul>
                </div>
                <div class="repo-link">
                    <a href="https://github.com/zhaotaq/douyin-web-assistant" target="_blank" rel="noopener noreferrer">
                        <svg aria-hidden="true" height="24" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true" class="octicon">
                            <path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.19.01-.82.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.28.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21-.15.46-.55.38A8.013 8.013 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path>
                        </svg>
                        <span>查看源码</span>
                    </a>
                </div>
            </div>
            <p class="copyright">项目遵循MIT协议。Designed with clean code principles.</p>
        </footer>
    </div>

    <!-- 教程模态窗口 -->
    <div id="tutorial-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="modal-close-btn" id="modal-close-btn">&times;</span>
            <h2>如何获取抖音Cookie？</h2>
            <p>我们推荐使用浏览器扩展程序来安全、便捷地导出Cookie。以下是详细步骤：</p>
            <ol>
                <li>
                    <strong>第一步：安装 "Cookie-Editor" 扩展</strong><br>
                    请根据您的浏览器，在官方商店中搜索并安装"Cookie-Editor"。<br>
                    <a href="https://chrome.google.com/webstore/detail/cookie-editor/hlkenndednhfkekhgcdicdfddnkalmdm" target="_blank" rel="noopener noreferrer">Chrome 用户点此安装</a> |
                    <a href="https://addons.mozilla.org/firefox/addon/cookie-editor/" target="_blank" rel="noopener noreferrer">Firefox 用户点此安装</a> |
                    <a href="https://microsoftedge.microsoft.com/addons/detail/cookie-editor/neaplmfkghagebokkhpjpoebhdledlfi" target="_blank" rel="noopener noreferrer">Edge 用户点此安装</a>
                </li>
                <li>
                    <strong>第二步：登录抖音创作服务平台</strong><br>
                    在新标签页中访问 <a href="https://creator.douyin.com" target="_blank" rel="noopener noreferrer">creator.douyin.com</a> 并完成登录。
                </li>
                <li>
                    <strong>第三步：导出Cookie</strong><br>
                    登录后，点击浏览器右上角的 "Cookie-Editor" 扩展图标 (🍪)。在弹出的窗口中，点击右下角的 <strong>Export</strong> 按钮，然后选择 <strong>Export as JSON</strong>，即可将Cookie数据复制到剪贴板。<br>
                    <img src="/static/img/image.png" alt="导出Cookie步骤示意图" class="tutorial-image">
                </li>
                <li>
                    <strong>第四步：粘贴并保存</strong><br>
                    回到本页面，在下方的 "Cookie (JSON格式)" 文本框中粘贴刚才复制的所有内容。最后点击"保存Cookie"按钮。
                </li>
            </ol>
            <p class="warning"><strong>安全提示：</strong> 此过程不会暴露您的密码。请勿在公共或不信任的电脑上操作，也不要与他人分享您导出的Cookie数据。</p>
        </div>
    </div>

    <script src="/static/js/main.js"></script>
</body>
</html> 